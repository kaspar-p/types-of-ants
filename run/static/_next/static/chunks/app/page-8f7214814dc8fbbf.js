(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4616:function(e,t,n){Promise.resolve().then(n.bind(n,1619))},1619:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(9268),r=n(6006),s=n(2130),i=n(3512),l=n(9401),o=n(7618);function u(e){let{isLoading:t,isError:n,data:r}=(0,l.a)({queryKey:["bannerAnts"],queryFn:i.X6});return(0,o.S2)(t,n,{bannerAnts:r},e=>{var t;let{bannerAnts:n}=e;return(0,a.jsx)("div",{className:"block w-full pr-0",style:{backgroundColor:"gold",borderRadius:"6px",padding:"12px"},children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:["discovered ",n.ants.length," new ants on"," ",(t=n.date,"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())),":"]}),(0,a.jsx)(s.Z,{autoFill:!0,pauseOnHover:!0,speed:75,className:"items-center flex justify-between",children:n.ants.map((e,t)=>(0,a.jsx)("div",{className:"inline-block whitespace-nowrap pr-4 pl-4",style:{paddingRight:"15px",paddingLeft:"15px"},children:e},t))})]})})})}var c=n(2391),d=n(3506);let m={suggestAnt:{path:"/api/ants/suggest",inputDataSchema:c.z.object({suggestion_content:c.z.string()})},newsletterSignup:{path:"/api/users/subscribe-newsletter",inputDataSchema:c.z.object({email:c.z.string()})}};async function f(e,t){let{path:n,inputDataSchema:a}=e;console.log("POST: ",e.path);let r=a.parse(t),s=(0,d.O)(n),i=await fetch(s,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});console.log("GOT RESPONSE: ",i);try{await i.json()}catch(e){throw console.error(e),e}return i.status>=300?{success:!1}:{success:!0}}let p=e=>f(m.suggestAnt,e),g=e=>f(m.newsletterSignup,e);function h(e){let[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[i,l]=(0,r.useState)(0),[o,u]=(0,r.useState)(""),[c,d]=(0,r.useState)("");function m(e){setTimeout(()=>e(""),3e3)}function f(){u(""),d(e.messages.error),m(d)}async function p(a){var r;if(a.preventDefault(),t)return;let o=a.target,c=null===(r=o[e.inputName])||void 0===r?void 0:r.value.trim();if(void 0===c)return void(d("input not found!"),m(d));let{valid:p,msg:g}=e.validator(c);if(!p)return void(d(g),m(d));!function(){let t=setInterval(()=>{l((i+1)%3)},100);n(!0),s(!0),e.clearInput(),setTimeout(()=>{s(!1),n(!1),clearInterval(t)},3e3)}();try{let t=e.constructInputData(c),n=await e.postAction(t);n.success?(u(e.messages.valid),d(""),m(u)):f()}catch(e){f()}}return{validMsg:o,errorMsg:c,loadingMsg:a?"loading"+".".repeat(i):"",handle:p}}function v(e){let t="";return e.length<=2?t="ant too short!":e.length>=100&&(t="ant too long!"),{valid:""===t,msg:t}}function x(){let[e,t]=(0,r.useState)(""),{validMsg:n,loadingMsg:s,errorMsg:i,handle:l}=h({postAction:p,constructInputData:e=>({suggestion_content:e}),clearInput:()=>t(""),inputName:"ant",messages:{valid:"thanks!",error:"error encountered, ant not processed!"},validator:v}),o=n?(0,a.jsx)("div",{className:"text-green-600",children:n}):i?(0,a.jsx)("div",{className:"text-red-600",children:i}):s?(0,a.jsx)("div",{className:"text-blue-700",children:s}):"";return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"pl-3",children:"have any new ant suggestions?"}),(0,a.jsxs)("form",{className:"flex flex-row flex-wrap pl-2",autoComplete:"off",onSubmit:e=>l(e),children:[(0,a.jsx)("input",{className:"m-1",type:"text",name:"ant",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{type:"submit",className:"m-1",value:"submit ant suggestion"})]}),(0,a.jsx)("div",{className:"ml-1 pl-3 h-2 mb-4",children:o})]})}function y(e){let t="";return/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e)||(t="invalid email!"),{valid:""===t,msg:t}}function b(){let[e,t]=(0,r.useState)(""),{validMsg:n,loadingMsg:s,errorMsg:i,handle:l}=h({postAction:g,clearInput:()=>t(""),constructInputData:e=>({email:e}),inputName:"email",messages:{valid:"thanks, see you soon!",error:"error encountered, signup failed!"},validator:y}),o=n?(0,a.jsx)("div",{className:"text-green-600",children:n}):i?(0,a.jsx)("div",{className:"text-red-600",children:i}):s?(0,a.jsx)("div",{className:"text-blue-700",children:s}):"";return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"pl-3",children:"interested in monthly ant emails?"}),(0,a.jsxs)("form",{className:"flex flex-row flex-wrap pl-2",autoComplete:"off",onSubmit:e=>l(e),children:[(0,a.jsx)("input",{className:"m-1",type:"text",name:"email",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{className:"m-1",type:"submit",value:"join monthly newsletter"})]}),(0,a.jsx)("div",{className:"ml-1 pl-3 h-2 mb-4",children:o})]})}function w(){let[e,t]=(0,r.useState)(0),{isLoading:n,isError:s,data:c}=(0,l.a)({queryKey:["releasedAnts"],queryFn:()=>(0,i.IG)(e)});return(0,o.S2)(n,s,{releasedAnts:c},e=>{let{releasedAnts:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{id:"forms-container",style:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignSelf:"center"},children:[(0,a.jsx)(x,{}),(0,a.jsx)(b,{})]}),(0,a.jsx)(u,{}),(0,a.jsx)("div",{id:"ant-filler",children:t.ants.map((e,t)=>(0,a.jsx)("div",{children:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},t))})]})})}},7618:function(e,t,n){"use strict";n.d(t,{S2:function(){return i}});var a=n(9268);function r(){return(0,a.jsx)("div",{children:"error..."})}function s(){return(0,a.jsx)("div",{children:"loading..."})}function i(e,t,n,i){let l=[e].flat().some(e=>e),o=[t].flat().some(e=>e)||!n||Object.values(n).some(e=>void 0===e);return l?(0,a.jsx)(s,{}):o?(0,a.jsx)(r,{}):(console.log("dataresults: ",n),i(n))}n(6006)},3506:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var a=n(2391),r=n(2040);function s(e){let t=function(){var e;let t=a.z.union([a.z.literal("dev"),a.z.literal("beta")]).parse(null!==(e=r.env.ENVIRONMENT)&&void 0!==e?e:"beta");switch(t){case"beta":return"https://beta.typesofants.org";case"dev":return"http://localhost:3499"}}();return"/"!==e[0]&&(e="/"+e),new URL(t+e)}},3512:function(e,t,n){"use strict";n.d(t,{IG:function(){return u},Rz:function(){return d},X6:function(){return o},aY:function(){return c}});var a=n(2391),r=n(3506);let s=a.z.array(a.z.object({ant_id:a.z.string(),ant_name:a.z.string(),created_at:a.z.string()})),i={getReleaseNumber:{name:"getReleaseNumber",path:"/api/ants/latest-release",schema:a.z.number(),transformer:e=>e},getLatestAnts:{name:"getLatestAnts",path:"/api/ants/latest-ants",schema:a.z.object({date:a.z.number(),ants:s}),transformer:e=>({date:new Date(1e3*e.date),ants:e.ants.map(e=>e.ant_name)})},getUnseenAnts:{name:"getUnseenAntsPaginated",path:"/api/ants/unreleased-ants",queryParams:["page"],schema:a.z.object({ants:s}),transformer:e=>e},getReleasedAnts:{name:"getReleasedAnts",path:"/api/ants/released-ants",queryParams:["page"],schema:a.z.object({ants:s}),transformer:e=>({ants:e.map(e=>e.ant_name)})}};async function l(e,t){let n=(0,r.O)(e.path);if("queryParams"in e&&void 0!==t)for(let a of e.queryParams)n.searchParams.set(a,encodeURIComponent(JSON.stringify(t[a])));console.log("GET: ",n);let a=await (await fetch(n)).json();console.log("GOT DATA: ",a);let s=e.transformer(a);return s}let o=()=>l(i.getLatestAnts),u=e=>l(i.getReleasedAnts,{page:e}),c=e=>l(i.getUnseenAnts,{page:e}),d=()=>l(i.getReleaseNumber)},2130:function(e,t,n){var a=n(6006),r=a&&"object"==typeof a&&"default"in a?a:{default:a};!function(e){if(!e||"undefined"==typeof window)return;let t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}('.marquee-container {\n  overflow-x: hidden !important;\n  display: flex !important;\n  flex-direction: row !important;\n  position: relative;\n  width: var(--width);\n  transform: var(--transform);\n}\n.marquee-container:hover div {\n  animation-play-state: var(--pause-on-hover);\n}\n.marquee-container:active div {\n  animation-play-state: var(--pause-on-click);\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n.overlay::before, .overlay::after {\n  background: linear-gradient(to right, var(--gradient-color));\n  content: "";\n  height: 100%;\n  position: absolute;\n  width: var(--gradient-width);\n  z-index: 2;\n}\n.overlay::after {\n  right: 0;\n  top: 0;\n  transform: rotateZ(180deg);\n}\n.overlay::before {\n  left: 0;\n  top: 0;\n}\n\n.marquee {\n  flex: 0 0 auto;\n  min-width: var(--min-width);\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);\n  animation-play-state: var(--play);\n  animation-delay: var(--delay);\n  animation-direction: var(--direction);\n}\n@keyframes scroll {\n  0% {\n    transform: translateX(0%);\n  }\n  100% {\n    transform: translateX(-100%);\n  }\n}\n\n.initial-child-container {\n  flex: 0 0 auto;\n  display: flex;\n  min-width: auto;\n  flex-direction: row;\n}\n\n.child {\n  transform: var(--transform);\n}');let s=a.forwardRef(function({style:e={},className:t="",autoFill:n=!1,play:s=!0,pauseOnHover:i=!1,pauseOnClick:l=!1,direction:o="left",speed:u=50,delay:c=0,loop:d=0,gradient:m=!1,gradientColor:f=[255,255,255],gradientWidth:p=200,onFinish:g,onCycleComplete:h,onMount:v,children:x},y){let[b,w]=a.useState(0),[j,N]=a.useState(0),[z,S]=a.useState(1),[A,E]=a.useState(!1),O=a.useRef(null),R=y||O,k=a.useRef(null),q=a.useCallback(()=>{if(k.current&&R.current){let e=R.current.getBoundingClientRect(),t=k.current.getBoundingClientRect(),a=e.width,r=t.width;("up"===o||"down"===o)&&(a=e.height,r=t.height),n&&a&&r?S(r<a?Math.ceil(a/r):1):S(1),w(a),N(r)}},[n,R,o]);a.useEffect(()=>{if(A&&(q(),k.current&&R.current)){let e=new ResizeObserver(()=>q());return e.observe(R.current),e.observe(k.current),()=>{e&&e.disconnect()}}},[q,R,A]),a.useEffect(()=>{q()},[q,x]),a.useEffect(()=>{E(!0)},[]),a.useEffect(()=>{"function"==typeof v&&v()},[]);let C=a.useMemo(()=>n?j*z/u:j<b?b/u:j/u,[n,b,j,z,u]),_=`rgba(${f[0]}, ${f[1]}, ${f[2]}`,I=a.useMemo(()=>Object.assign(Object.assign({},e),{"--pause-on-hover":!s||i?"paused":"running","--pause-on-click":!s||i&&!l||l?"paused":"running","--width":"up"===o||"down"===o?"100vh":"100%","--transform":"up"===o?"rotate(-90deg)":"down"===o?"rotate(90deg)":"none"}),[e,s,i,l,o]),M=a.useMemo(()=>({"--gradient-color":`${_}, 1), ${_}, 0)`,"--gradient-width":"number"==typeof p?`${p}px`:p}),[_,p]),D=a.useMemo(()=>({"--play":s?"running":"paused","--direction":"left"===o?"normal":"reverse","--duration":`${C}s`,"--delay":`${c}s`,"--iteration-count":d?`${d}`:"infinite","--min-width":n?"auto":"100%"}),[s,o,C,c,d,n]),$=a.useMemo(()=>({"--transform":"up"===o?"rotate(90deg)":"down"===o?"rotate(-90deg)":"none"}),[o]),P=a.useCallback(e=>[...Array(Number.isFinite(e)&&e>=0?e:0)].map((e,t)=>r.default.createElement(a.Fragment,{key:t},a.Children.map(x,e=>r.default.createElement("div",{style:$,className:"child"},e)))),[$,x]);return A?r.default.createElement("div",{ref:R,style:I,className:"marquee-container "+t},m&&r.default.createElement("div",{style:M,className:"overlay"}),r.default.createElement("div",{className:"marquee",style:D,onAnimationIteration:h,onAnimationEnd:g},r.default.createElement("div",{className:"initial-child-container",ref:k},a.Children.map(x,e=>r.default.createElement("div",{style:$,className:"child"},e))),P(z-1)),r.default.createElement("div",{className:"marquee",style:D},P(z))):null});t.Z=s}},function(e){e.O(0,[73,667,488,744],function(){return e(e.s=4616)}),_N_E=e.O()}]);