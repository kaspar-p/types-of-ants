(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{367:function(e,t,n){Promise.resolve().then(n.bind(n,511))},511:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(9268),s=n(7618),r=n(3512),o=n(9401),u=n(6006);function i(){let[e,t]=(0,u.useState)(0),{isLoading:n,isError:i,data:c,refetch:l}=(0,o.a)({queryKey:["unseenAnts"],queryFn:()=>(0,r.aY)(e)});return(0,s.S2)(n,i,{unseenAnts:c},e=>{let{unseenAnts:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{children:["latest ant submissions (",t.length,"):"," ",(0,a.jsx)("button",{onClick:()=>l(),children:"refresh"})]}),t.map((e,t)=>(0,a.jsxs)("div",{children:["[",function(e){let t=new Date(e);return"".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString())}(e.created_at),"] ",(0,a.jsx)("strong",{children:e.ant_name})]},e.ant_name+t))]})})}},7618:function(e,t,n){"use strict";n.d(t,{S2:function(){return o}});var a=n(9268);function s(){return(0,a.jsx)("div",{children:"error..."})}function r(){return(0,a.jsx)("div",{children:"loading..."})}function o(e,t,n,o){let u=[e].flat().some(e=>e),i=[t].flat().some(e=>e)||!n||Object.values(n).some(e=>void 0===e);return u?(0,a.jsx)(r,{}):i?(0,a.jsx)(s,{}):(console.log("dataresults: ",n),o(n))}n(6006)},3506:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var a=n(2391),s=n(2040);function r(e){let t=function(){var e;let t=a.z.union([a.z.literal("dev"),a.z.literal("beta")]).parse(null!==(e=s.env.ENVIRONMENT)&&void 0!==e?e:"beta");switch(t){case"beta":return"https://beta.typesofants.org";case"dev":return"http://localhost:3499"}}();return"/"!==e[0]&&(e="/"+e),new URL(t+e)}},3512:function(e,t,n){"use strict";n.d(t,{IG:function(){return c},Rz:function(){return f},X6:function(){return i},aY:function(){return l}});var a=n(2391),s=n(3506);let r=a.z.array(a.z.object({ant_id:a.z.string(),ant_name:a.z.string(),created_at:a.z.string()})),o={getReleaseNumber:{name:"getReleaseNumber",path:"/api/ants/latest-release",schema:a.z.number(),transformer:e=>e},getLatestAnts:{name:"getLatestAnts",path:"/api/ants/latest-ants",schema:a.z.object({date:a.z.number(),ants:r}),transformer:e=>({date:new Date(1e3*e.date),ants:e.ants.map(e=>e.ant_name)})},getUnseenAnts:{name:"getUnseenAntsPaginated",path:"/api/ants/unreleased-ants",queryParams:["page"],schema:a.z.object({ants:r}),transformer:e=>e},getReleasedAnts:{name:"getReleasedAnts",path:"/api/ants/released-ants",queryParams:["page"],schema:a.z.object({ants:r}),transformer:e=>({ants:e.map(e=>e.ant_name)})}};async function u(e,t){let n=(0,s.O)(e.path);if("queryParams"in e&&void 0!==t)for(let a of e.queryParams)n.searchParams.set(a,encodeURIComponent(JSON.stringify(t[a])));console.log("GET: ",n);let a=await (await fetch(n)).json();console.log("GOT DATA: ",a);let r=e.transformer(a);return r}let i=()=>u(o.getLatestAnts),c=e=>u(o.getReleasedAnts,{page:e}),l=e=>u(o.getUnseenAnts,{page:e}),f=()=>u(o.getReleaseNumber)}},function(e){e.O(0,[73,667,488,744],function(){return e(e.s=367)}),_N_E=e.O()}]);